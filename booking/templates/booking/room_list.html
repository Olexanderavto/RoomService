{% extends 'booking/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <h3 class="smaller-heading">Пропозиції</h3>

    <div class="row justify-content-center">
        {% for room in rooms %}
        <div class="col-md-6 col-lg-4 mb-4 d-flex">
            <div class="card flex-fill">
                {# ИЗМЕНЕНИЕ ЗДЕСЬ: используем room.images.first.image.url #}
                {% if room.images.first %} {# Проверяем, есть ли хотя бы одно изображение #}
                    <img src="{{ room.images.first.image.url }}" class="card-img-top" alt="{{ room.name }}">
                {% else %}
                    {# Если изображений нет, показываем заглушку (убедитесь, что default_room.jpg существует в booking/static/booking/images/) #}
                    <img src="{% static 'booking/images/default_room.jpg' %}" class="card-img-top" alt="Нет фото">
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ room.name }}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Вміщує {{ room.capacity }} осіб</h6>
                    <p class="card-text">{{ room.description }}</p>
                    <a href="{% url 'room_detail' room.id %}" class="btn btn-primary">Детальніше</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}


